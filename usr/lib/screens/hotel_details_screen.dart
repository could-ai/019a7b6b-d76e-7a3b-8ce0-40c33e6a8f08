import 'package:flutter/material.dart';\nimport '../models/hotel.dart';\n\nclass HotelDetailsScreen extends StatefulWidget {\n  const HotelDetailsScreen({super.key});\n\n  @override\n  State<HotelDetailsScreen> createState() => _HotelDetailsScreenState();\n}\n\nclass _HotelDetailsScreenState extends State<HotelDetailsScreen> {\n  int _currentImageIndex = 0;\n\n  @override\n  Widget build(BuildContext context) {\n    final hotel = ModalRoute.of(context)!.settings.arguments as Hotel;\n\n    return Scaffold(\n      body: CustomScrollView(\n        slivers: [\n          // App Bar with Image Gallery\n          SliverAppBar(\n            expandedHeight: 300,\n            pinned: true,\n            leading: IconButton(\n              icon: const CircleAvatar(\n                backgroundColor: Colors.white,\n                child: Icon(Icons.arrow_back, color: Colors.black),\n              ),\n              onPressed: () => Navigator.pop(context),\n            ),\n            actions: [\n              IconButton(\n                icon: const CircleAvatar(\n                  backgroundColor: Colors.white,\n                  child: Icon(Icons.favorite_border, color: Colors.black),\n                ),\n                onPressed: () {},\n              ),\n              const SizedBox(width: 8),\n            ],\n            flexibleSpace: FlexibleSpaceBar(\n              background: Stack(\n                fit: StackFit.expand,\n                children: [\n                  PageView.builder(\n                    itemCount: hotel.images.length,\n                    onPageChanged: (index) {\n                      setState(() {\n                        _currentImageIndex = index;\n                      });\n                    },\n                    itemBuilder: (context, index) {\n                      return Image.network(\n                        hotel.images[index],\n                        fit: BoxFit.cover,\n                        errorBuilder: (context, error, stackTrace) {\n                          return Container(\n                            color: Colors.grey[300],\n                            child: const Icon(Icons.hotel, size: 64, color: Colors.grey),\n                          );\n                        },\n                      );\n                    },\n                  ),\n                  Positioned(\n                    bottom: 16,\n                    left: 0,\n                    right: 0,\n                    child: Row(\n                      mainAxisAlignment: MainAxisAlignment.center,\n                      children: List.generate(\n                        hotel.images.length,\n                        (index) => Container(\n                          margin: const EdgeInsets.symmetric(horizontal: 4),\n                          width: 8,\n                          height: 8,\n                          decoration: BoxDecoration(\n                            shape: BoxShape.circle,\n                            color: _currentImageIndex == index\n                                ? Colors.white\n                                : Colors.white.withOpacity(0.5),\n                          ),\n                        ),\n                      ),\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          ),\n          // Hotel Details\n          SliverToBoxAdapter(\n            child: Padding(\n              padding: const EdgeInsets.all(16),\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: [\n                  // Hotel Name and Rating\n                  Row(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Expanded(\n                        child: Column(\n                          crossAxisAlignment: CrossAxisAlignment.start,\n                          children: [\n                            Text(\n                              hotel.name,\n                              style: const TextStyle(\n                                fontSize: 28,\n                                fontWeight: FontWeight.bold,\n                              ),\n                            ),\n                            const SizedBox(height: 4),\n                            Row(\n                              children: [\n                                const Icon(Icons.location_on, size: 16, color: Colors.grey),\n                                const SizedBox(width: 4),\n                                Text(\n                                  hotel.location,\n                                  style: TextStyle(color: Colors.grey[600], fontSize: 14),\n                                ),\n                              ],\n                            ),\n                          ],\n                        ),\n                      ),\n                      Container(\n                        padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 6),\n                        decoration: BoxDecoration(\n                          color: Colors.amber,\n                          borderRadius: BorderRadius.circular(20),\n                        ),\n                        child: Row(\n                          children: [\n                            const Icon(Icons.star, color: Colors.white, size: 16),\n                            const SizedBox(width: 4),\n                            Text(\n                              hotel.rating.toString(),\n                              style: const TextStyle(\n                                color: Colors.white,\n                                fontWeight: FontWeight.bold,\n                              ),\n                            ),\n                          ],\n                        ),\n                      ),\n                    ],\n                  ),\n                  const SizedBox(height: 8),\n                  Text(\n                    '${hotel.reviewCount} reviews',\n                    style: TextStyle(color: Colors.grey[600], fontSize: 14),\n                  ),\n                  const SizedBox(height: 24),\n                  // Price\n                  Row(\n                    children: [\n                      Text(\n                        '\$${hotel.pricePerNight.toStringAsFixed(2)}',\n                        style: TextStyle(\n                          fontSize: 32,\n                          fontWeight: FontWeight.bold,\n                          color: Theme.of(context).colorScheme.primary,\n                        ),\n                      ),\n                      const SizedBox(width: 8),\n                      Text(\n                        'per night',\n                        style: TextStyle(color: Colors.grey[600], fontSize: 16),\n                      ),\n                    ],\n                  ),\n                  const SizedBox(height: 24),\n                  // Amenities\n                  const Text(\n                    'Amenities',\n                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),\n                  ),\n                  const SizedBox(height: 12),\n                  Wrap(\n                    spacing: 8,\n                    runSpacing: 8,\n                    children: hotel.amenities.map((amenity) {\n                      return Chip(\n                        label: Text(amenity),\n                        backgroundColor: Theme.of(context).colorScheme.primary.withOpacity(0.1),\n                        labelStyle: TextStyle(\n                          color: Theme.of(context).colorScheme.primary,\n                        ),\n                        avatar: Icon(\n                          _getAmenityIcon(amenity),\n                          size: 16,\n                          color: Theme.of(context).colorScheme.primary,\n                        ),\n                      );\n                    }).toList(),\n                  ),\n                  const SizedBox(height: 24),\n                  // Description\n                  const Text(\n                    'About',\n                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),\n                  ),\n                  const SizedBox(height: 12),\n                  Text(\n                    hotel.description,\n                    style: TextStyle(color: Colors.grey[700], fontSize: 16, height: 1.5),\n                  ),\n                  const SizedBox(height: 100),\n                ],\n              ),\n            ),\n          ),\n        ],\n      ),\n      bottomSheet: Container(\n        padding: const EdgeInsets.all(16),\n        decoration: BoxDecoration(\n          color: Colors.white,\n          boxShadow: [\n            BoxShadow(\n              color: Colors.black.withOpacity(0.1),\n              blurRadius: 10,\n              offset: const Offset(0, -5),\n            ),\n          ],\n        ),\n        child: SafeArea(\n          child: SizedBox(\n            width: double.infinity,\n            child: ElevatedButton(\n              onPressed: () {\n                Navigator.pushNamed(\n                  context,\n                  '/booking',\n                  arguments: hotel,\n                );\n              },\n              style: ElevatedButton.styleFrom(\n                backgroundColor: Theme.of(context).colorScheme.primary,\n                foregroundColor: Colors.white,\n                padding: const EdgeInsets.symmetric(vertical: 16),\n                shape: RoundedRectangleBorder(\n                  borderRadius: BorderRadius.circular(12),\n                ),\n              ),\n              child: const Text(\n                'Book Now',\n                style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),\n              ),\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n\n  IconData _getAmenityIcon(String amenity) {\n    if (amenity.contains('WiFi')) return Icons.wifi;\n    if (amenity.contains('Pool')) return Icons.pool;\n    if (amenity.contains('Spa')) return Icons.spa;\n    if (amenity.contains('Restaurant')) return Icons.restaurant;\n    if (amenity.contains('Gym')) return Icons.fitness_center;\n    if (amenity.contains('Parking')) return Icons.local_parking;\n    if (amenity.contains('Beach')) return Icons.beach_access;\n    if (amenity.contains('Bar')) return Icons.local_bar;\n    if (amenity.contains('Ski')) return Icons.downhill_skiing;\n    if (amenity.contains('Fireplace')) return Icons.fireplace;\n    if (amenity.contains('Hot Tub')) return Icons.hot_tub;\n    if (amenity.contains('Rooftop')) return Icons.roofing;\n    if (amenity.contains('Water Sports')) return Icons.surfing;\n    if (amenity.contains('Kids')) return Icons.child_care;\n    if (amenity.contains('Pet')) return Icons.pets;\n    return Icons.check_circle;\n  }\n}\n